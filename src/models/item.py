class Item:
    """
        Data holder for our item.

        Parameters
        ----------
        id : int

        title : str

        genre : dict[str, float]
            The item/movie's genre distribution, where the key
            represents the genre and value corresponds to the
            ratio of that genre.

        score : float
            Score for the item, potentially generated by some
            recommendation algorithm.
        """

    def __init__(self, _id, title, genres, score=None):
        self.id = _id
        self.title = title
        self.score = score
        self.genres = genres

    # def __repr__(self):
    #     return self.title


def create_item_mapping(df_item, item_label, title_label, genre_label):
    """Create a dictionary of item id to Item lookup."""
    item_mapping = {}
    for row in df_item.itertuples():
        item_id = getattr(row, item_label)
        item_title = getattr(row, title_label)
        item_genre = getattr(row, genre_label)

        splitted = item_genre.split('|')
        genre_ratio = 1. / len(splitted)
        item_genre = {genre: genre_ratio for genre in splitted}

        item = Item(item_id, item_title, item_genre)
        item_mapping[item_id] = item

    return item_mapping
